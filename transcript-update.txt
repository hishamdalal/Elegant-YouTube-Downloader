class SRTFormatter(_TextBasedFormatter):
    def _format_timestamp(self, hours, mins, secs, ms):
        return "{:02d}:{:02d}:{:02d},{:03d}".format(hours, mins, secs, ms)
    
    def _format_transcript_header(self, lines):
        return "\n\n".join(lines) + "\n"

    def _format_transcript_helper(self, i, time_text, line):
       
        # https://www.w3.org/International/questions/qa-bidi-unicode-controls
        start = u'\u200F' + u'\u202E' + u'\u202B'
        end = u'\u202C'
        
        text = ""
        ary = line['text'].split("\n")
        for l in ary:
            text += start + l + end + "\n"

        return "{}\n{}\n{}".format(i + 1, time_text, text)